<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <meta name="theme-color" content="#ffffff" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <title>Tu Vida en Semanas</title>

  <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    * { -webkit-tap-highlight-color: transparent; }
    button, summary { -webkit-user-select: none; user-select: none; cursor: pointer; }
    /* Fix cr√≠tico para m√≥viles: evita zoom al escribir */
    input, textarea, select { -webkit-user-select: text; user-select: text; font-size: 16px !important; }

    html, body { height: 100%; }
    body { margin: 0; overflow-x: hidden; min-height: 100dvh; background: white; transition: background-color 0.5s ease; }
    #root { min-height: 100dvh; }

    .safe-bottom { padding-bottom: calc(1rem + env(safe-area-inset-bottom)); }
    .safe-top { padding-top: calc(0.5rem + env(safe-area-inset-top)); }
    .glass { backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); }

    .fade-in { animation: fadeIn .4s cubic-bezier(0.2, 0.8, 0.2, 1); }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px);} to { opacity:1; transform: translateY(0);} }
    
    summary::-webkit-details-marker { display: none; }

    /* Animaciones Atmosf√©ricas */
    @keyframes floaty { 0%,100% { transform: translateY(0);} 50% { transform: translateY(-10px);} }
    @keyframes breathe { 0%,100% { transform: scale(1); opacity: 0.8; } 50% { transform: scale(1.05); opacity: 1; } }
    @keyframes rotateSlow { from { transform: rotate(0deg);} to { transform: rotate(360deg);} }
    @keyframes twinkle { 0%,100% { opacity: .4;} 50% { opacity: 1;} }

    .design-shell { animation: floaty 8s ease-in-out infinite; pointer-events: none; }
    .design-shell-inner { animation: breathe 10s ease-in-out infinite; }
    .svg-rotate { transform-origin: center; animation: rotateSlow 30s linear infinite; }
    .twinkle { animation: twinkle 4s ease-in-out infinite; }

    @media (prefers-reduced-motion: reduce) {
      .design-shell, .design-shell-inner, .svg-rotate, .twinkle { animation: none !important; }
    }
    
    /* Scrollbar oculta pero funcional */
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useEffect, useMemo, useState, memo, useCallback } = React;

    // ================== CONSTANTS & UTILS ==================
    const KEYS = { session: "wol_session_v3", users: "wol_users_v3" };
    const TOTAL_WEEKS = 4160;

    const safeGet = (k) => { try { return localStorage.getItem(k); } catch { return null; } };
    const safeSet = (k, v) => { try { localStorage.setItem(k, v); } catch {} };
    const loadJSON = (k, fb) => { const r = safeGet(k); try { return r ? JSON.parse(r) : fb; } catch { return fb; } };
    const saveJSON = (k, o) => safeSet(k, JSON.stringify(o));
    const clamp = (n, a, b) => Math.min(b, Math.max(a, n));
    const fmtInt = (n) => Math.round(n).toLocaleString();

    function isoToday() {
      const now = new Date();
      return `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;
    }

    // Hash simple para contrase√±as y RNG
    async function passwordHash(u, p) {
      let h = 0xdeadbeef;
      const s = u + ":" + p + ":saltv3";
      for(let i=0; i<s.length; i++) h = Math.imul(h ^ s.charCodeAt(i), 2654435761);
      return ((h ^ h >>> 16) >>> 0).toString(16);
    }

    // ================== DATA: THEMES, I18N, MOODS ==================
    const THEMES = {
      minimal: { label:{es:"Minimal",en:"Minimal"}, bg:"bg-white", text:"text-gray-900", textSecondary:"text-gray-600", card:"bg-gray-50", border:"border-gray-200", weekPast:"#111827", weekFuture:"#e5e7eb", weekCurrent:"#3b82f6", accent:"bg-black" },
      dark: { label:{es:"Oscuro",en:"Dark"}, bg:"bg-gray-950", text:"text-gray-100", textSecondary:"text-gray-400", card:"bg-gray-900", border:"border-gray-800", weekPast:"#6b7280", weekFuture:"#1f2937", weekCurrent:"#06b6d4", accent:"bg-white" },
      warm: { label:{es:"C√°lido",en:"Warm"}, bg:"bg-orange-50", text:"text-orange-950", textSecondary:"text-orange-800", card:"bg-orange-100/50", border:"border-orange-200", weekPast:"#c2410c", weekFuture:"#fed7aa", weekCurrent:"#ea580c", accent:"bg-orange-600" },
      ocean: { label:{es:"Oc√©ano",en:"Ocean"}, bg:"bg-slate-900", text:"text-slate-100", textSecondary:"text-slate-400", card:"bg-slate-800", border:"border-slate-700", weekPast:"#3b82f6", weekFuture:"#1e293b", weekCurrent:"#0ea5e9", accent:"bg-blue-500" },
      neon: { label:{es:"Cyber",en:"Cyber"}, bg:"bg-black", text:"text-green-400", textSecondary:"text-green-800", card:"bg-zinc-900", border:"border-green-900", weekPast:"#22c55e", weekFuture:"#18181b", weekCurrent:"#f0f", accent:"bg-green-500" },
    };

    const MOODS = [
      { id:"happy", label:{es:"Genial", en:"Great"}, color:"#22c55e" },
      { id:"calm", label:{es:"Calmado", en:"Calm"}, color:"#06b6d4" },
      { id:"focused", label:{es:"Enfocado", en:"Focused"}, color:"#3b82f6" },
      { id:"tired", label:{es:"Cansado", en:"Tired"}, color:"#737373" },
      { id:"anxious", label:{es:"Ansioso", en:"Anxious"}, color:"#f59e0b" },
      { id:"sad", label:{es:"Triste", en:"Sad"}, color:"#6366f1" },
    ];

    const I18N = {
      es: {
        appTitle:"Tu vida en semanas", settings:"Ajustes", close:"Cerrar",
        login:"Entrar", register:"Registrar", user:"Usuario", pass:"Contrase√±a",
        logout:"Cerrar sesi√≥n", createAccount:"Crear cuenta", haveAccount:"Ya tengo cuenta",
        birthQuestion:"¬øCu√°ndo naciste?", save:"Guardar",
        weeksLived:"Semanas vividas", weeksLeft:"Semanas restantes",
        moodTitle:"¬øC√≥mo est√°s hoy?", moodLog:"Registrar",
        highlights:"Hitos de vida", cosmic:"Perspectiva C√≥smica",
        error:"Error", invalidDate:"Fecha inv√°lida", userExists:"Usuario ya existe", authFail:"Credenciales incorrectas"
      },
      en: {
        appTitle:"Your life in weeks", settings:"Settings", close:"Close",
        login:"Log in", register:"Sign up", user:"Username", pass:"Password",
        logout:"Log out", createAccount:"Create account", haveAccount:"I have an account",
        birthQuestion:"When were you born?", save:"Save",
        weeksLived:"Weeks lived", weeksLeft:"Weeks left",
        moodTitle:"How are you today?", moodLog:"Log mood",
        highlights:"Life Highlights", cosmic:"Cosmic Perspective",
        error:"Error", invalidDate:"Invalid date", userExists:"User exists", authFail:"Invalid credentials"
      }
    };

    // ================== GLOBAL COMPONENTS (Moved OUTSIDE App) ==================
    
    // Iconos
    const IconX = () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>;
    const IconSettings = () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>;

    // UI Generica
    const Modal = ({ open, onClose, children }) => {
      if (!open) return null;
      return (
        <div className="fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/50 p-4 backdrop-blur-sm" onClick={onClose}>
          <div className="w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl fade-in overflow-hidden" onClick={e => e.stopPropagation()}>
            <div className="flex justify-end mb-2">
              <button onClick={onClose} className="p-1 opacity-50 hover:opacity-100 transition-opacity"><IconX/></button>
            </div>
            {children}
          </div>
        </div>
      );
    };

    const Accordion = ({ title, children, themeColors }) => {
      const [isOpen, setIsOpen] = useState(false);
      return (
        <div className={`mb-3 border rounded-xl overflow-hidden transition-all ${themeColors.border} ${themeColors.card}`}>
          <button onClick={() => setIsOpen(!isOpen)} className="w-full p-4 flex justify-between items-center font-semibold text-left">
            <span>{title}</span>
            <span className={`transform transition-transform ${isOpen ? 'rotate-180' : ''}`}>‚ñº</span>
          </button>
          {isOpen && <div className="p-4 pt-0 text-sm opacity-90">{children}</div>}
        </div>
      );
    };

    // Componente de Grilla Memoizado (Clave para rendimiento)
    const WeeksGrid = memo(({ weeksLived, themeColors }) => {
      return (
        <div className="grid grid-cols-[repeat(auto-fill,minmax(5px,1fr))] sm:grid-cols-[repeat(52,1fr)] gap-[2px] w-full mt-8 select-none">
          {Array.from({ length: TOTAL_WEEKS }).map((_, i) => {
            const isPast = i < weeksLived;
            const isCurrent = i === weeksLived;
            let bg = isPast ? themeColors.weekPast : themeColors.weekFuture;
            if (isCurrent) bg = themeColors.weekCurrent;
            
            return (
              <div 
                key={i} 
                className={`aspect-square rounded-[0.5px] ${isCurrent ? 'animate-pulse' : ''}`}
                style={{ backgroundColor: bg }} 
              />
            );
          })}
        </div>
      );
    }, (prev, next) => prev.weeksLived === next.weeksLived && prev.themeColors === next.themeColors);

    // ================== MAIN APP ==================
    function App() {
      // --- STATE ---
      const [users, setUsers] = useState(() => loadJSON(KEYS.users, {}));
      const [session, setSession] = useState(() => loadJSON(KEYS.session, null));
      const [view, setView] = useState("loading"); // loading, auth, setup, home
      
      // Form States (ahora controlados dentro de App pero los inputs son directos)
      const [authUser, setAuthUser] = useState("");
      const [authPass, setAuthPass] = useState("");
      const [isRegister, setIsRegister] = useState(false);
      const [authError, setAuthError] = useState("");
      
      const [birthInput, setBirthInput] = useState("");
      const [showSettings, setShowSettings] = useState(false);
      const [showMood, setShowMood] = useState(false);

      // --- DERIVED ---
      const currentUser = session?.username ? users[session.username] : null;
      const lang = currentUser?.prefs?.lang || "es";
      const themeKey = currentUser?.prefs?.theme || "minimal";
      const t = (k) => I18N[lang][k] || k;
      const themeColors = THEMES[themeKey];

      // --- EFFECTS ---
      useEffect(() => {
        if (!session) setView("auth");
        else if (!currentUser?.birthdate) setView("setup");
        else setView("home");
      }, [session, currentUser]);

      useEffect(() => {
        // Daily Mood Prompt Check
        if (currentUser?.birthdate && view === "home") {
          const today = isoToday();
          if (!currentUser.moods?.[today]) {
            // Peque√±o timeout para que no sea intrusivo al cargar
            const timer = setTimeout(() => setShowMood(true), 1500);
            return () => clearTimeout(timer);
          }
        }
      }, [currentUser, view]);

      // --- LOGIC ---
      const handleAuth = async (e) => {
        e.preventDefault();
        setAuthError("");
        if (!authUser || !authPass) return;
        const hash = await passwordHash(authUser, authPass);
        
        if (isRegister) {
          if (users[authUser]) return setAuthError(t("userExists"));
          const newUser = { username: authUser, passHash: hash, prefs: { lang: "es", theme: "minimal" }, moods: {} };
          const nextUsers = { ...users, [authUser]: newUser };
          setUsers(nextUsers);
          saveJSON(KEYS.users, nextUsers);
          setSession({ username: authUser });
          saveJSON(KEYS.session, { username: authUser });
        } else {
          const u = users[authUser];
          if (!u || u.passHash !== hash) return setAuthError(t("authFail"));
          setSession({ username: authUser });
          saveJSON(KEYS.session, { username: authUser });
        }
      };

      const saveBirth = () => {
        if (!birthInput) return;
        const d = new Date(birthInput);
        if (d > new Date()) return alert(t("invalidDate"));
        
        const nextUsers = { ...users, [session.username]: { ...currentUser, birthdate: birthInput } };
        setUsers(nextUsers);
        saveJSON(KEYS.users, nextUsers);
      };

      const updatePref = (key, val) => {
        const nextUsers = { ...users, [session.username]: { ...currentUser, prefs: { ...currentUser.prefs, [key]: val } } };
        setUsers(nextUsers);
        saveJSON(KEYS.users, nextUsers);
      };

      const logMood = (moodId) => {
        const today = isoToday();
        const nextUsers = { ...users, [session.username]: { ...currentUser, moods: { ...(currentUser.moods||{}), [today]: moodId } } };
        setUsers(nextUsers);
        saveJSON(KEYS.users, nextUsers);
        setShowMood(false);
      };

      const stats = useMemo(() => {
        if (!currentUser?.birthdate) return null;
        const birth = new Date(currentUser.birthdate);
        const now = new Date();
        const diff = now - birth;
        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const weeks = Math.floor(days / 7);
        const heartbeats = Math.floor(diff / 1000 * 1.2); // approx
        const breaths = Math.floor(diff / 1000 * 0.25);
        return { 
          days, weeks, 
          left: Math.max(0, TOTAL_WEEKS - weeks), 
          pct: ((weeks/TOTAL_WEEKS)*100).toFixed(1),
          heartbeats, breaths,
          earthTravel: Math.floor(days * 2.57), // million km approx
          moonCycles: Math.floor(days / 29.5)
        };
      }, [currentUser]);

      // --- RENDERS ---

      if (view === "loading") return <div className="h-screen flex items-center justify-center">...</div>;

      // 1. AUTH SCREEN
      if (view === "auth") {
        return (
          <div className="min-h-screen flex flex-col items-center justify-center p-6 bg-white text-gray-900 overflow-hidden relative">
            {/* Design Shell para autenticaci√≥n */}
            <div className="absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none overflow-hidden">
               <div className="absolute top-[-20%] right-[-20%] w-[50vh] h-[50vh] bg-blue-400 rounded-full blur-[100px] design-shell"></div>
               <div className="absolute bottom-[-10%] left-[-10%] w-[40vh] h-[40vh] bg-purple-400 rounded-full blur-[80px] design-shell-inner"></div>
            </div>

            <div className="z-10 w-full max-w-sm fade-in">
              <h1 className="text-4xl font-bold mb-2 tracking-tighter">{t("appTitle")}</h1>
              <p className="text-gray-500 mb-8">Memento mori. Memento vivere.</p>
              
              <form onSubmit={handleAuth} className="space-y-4">
                <input 
                  type="text" 
                  placeholder={t("user")} 
                  value={authUser} 
                  onChange={e => setAuthUser(e.target.value)}
                  className="w-full p-4 bg-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-black transition-all"
                />
                <input 
                  type="password" 
                  placeholder={t("pass")} 
                  value={authPass} 
                  onChange={e => setAuthPass(e.target.value)}
                  className="w-full p-4 bg-gray-100 rounded-xl outline-none focus:ring-2 focus:ring-black transition-all"
                />
                {authError && <p className="text-red-500 text-sm font-medium">{authError}</p>}
                <button className="w-full bg-black text-white p-4 rounded-xl font-bold hover:scale-[1.02] transition-transform">
                  {isRegister ? t("createAccount") : t("login")}
                </button>
              </form>
              
              <button onClick={() => { setIsRegister(!isRegister); setAuthError(""); }} className="mt-4 text-sm text-gray-500 underline w-full text-center">
                {isRegister ? t("haveAccount") : t("createAccount")}
              </button>
            </div>
          </div>
        );
      }

      // 2. SETUP SCREEN
      if (view === "setup") {
        return (
          <div className="min-h-screen flex flex-col items-center justify-center p-6 bg-white text-gray-900 fade-in">
            <h2 className="text-2xl font-bold mb-6">{t("birthQuestion")}</h2>
            <input 
              type="date" 
              value={birthInput}
              onChange={e => setBirthInput(e.target.value)}
              className="p-4 bg-gray-100 rounded-xl text-xl outline-none mb-6"
            />
            <button onClick={saveBirth} className="bg-black text-white px-8 py-3 rounded-full font-bold">{t("save")}</button>
          </div>
        );
      }

      // 3. HOME SCREEN
      return (
        <div className={`min-h-screen transition-colors duration-500 ${themeColors.bg} ${themeColors.text} ${themeKey === 'neon' ? 'font-mono' : 'font-sans'}`}>
          
          {/* Fondo Atmosf√©rico Din√°mico */}
          {themeKey !== 'minimal' && (
            <div className="fixed inset-0 pointer-events-none opacity-20 overflow-hidden">
               <div className={`absolute top-0 right-0 w-[60vw] h-[60vw] rounded-full blur-[120px] mix-blend-screen design-shell ${themeColors.accent}`}></div>
            </div>
          )}

          <div className="relative z-10 max-w-3xl mx-auto p-6 safe-top safe-bottom">
            {/* Header */}
            <div className="flex justify-between items-start mb-8">
              <div>
                <h1 className="text-5xl font-black tracking-tighter leading-none mb-1">{stats.pct}%</h1>
                <p className={`text-sm uppercase tracking-widest font-bold opacity-60`}>{t("weeksLived")}</p>
              </div>
              <button onClick={() => setShowSettings(true)} className={`p-2 rounded-full hover:bg-black/5 transition-colors opacity-70`}>
                <IconSettings />
              </button>
            </div>

            {/* Tarjetas de Datos (Stats) */}
            <div className="grid grid-cols-2 gap-3 mb-8">
              <div className={`p-5 rounded-2xl border ${themeColors.card} ${themeColors.border} backdrop-blur-sm`}>
                <div className="text-3xl font-bold mb-1">{fmtInt(stats.weeks)}</div>
                <div className={`text-xs opacity-60 ${themeColors.textSecondary}`}>{t("weeksLived")}</div>
              </div>
              <div className={`p-5 rounded-2xl border ${themeColors.card} ${themeColors.border} backdrop-blur-sm`}>
                <div className="text-3xl font-bold mb-1">{fmtInt(stats.left)}</div>
                <div className={`text-xs opacity-60 ${themeColors.textSecondary}`}>{t("weeksLeft")}</div>
              </div>
            </div>

            {/* Accordions de Informaci√≥n Extra */}
            <Accordion title={t("highlights")} themeColors={themeColors}>
              <ul className="space-y-2 opacity-80">
                <li>‚ù§Ô∏è {fmtInt(stats.heartbeats)} heartbeats</li>
                <li>ü´Å {fmtInt(stats.breaths)} breaths</li>
                <li>üò¥ {fmtInt(stats.days * 8)} hours slept</li>
              </ul>
            </Accordion>
            
            <Accordion title={t("cosmic")} themeColors={themeColors}>
              <p className="mb-2">Viaje gal√°ctico desde tu nacimiento:</p>
              <ul className="space-y-2 opacity-80">
                <li>üåç {fmtInt(stats.earthTravel)} M km orbitados</li>
                <li>üåë {fmtInt(stats.moonCycles)} lunas llenas vividas</li>
              </ul>
            </Accordion>

            {/* Grilla Principal */}
            <WeeksGrid weeksLived={stats.weeks} themeColors={themeColors} />
            
            <div className="mt-12 text-center opacity-40 text-xs">
               MEMENTO MORI // WOL V3
            </div>
          </div>

          {/* MODAL SETTINGS */}
          <Modal open={showSettings} onClose={() => setShowSettings(false)}>
             <h2 className="text-xl font-bold mb-4 text-gray-900">{t("settings")}</h2>
             
             <div className="space-y-6">
               <div>
                 <label className="block text-sm font-bold text-gray-500 mb-2 uppercase">Idioma / Language</label>
                 <div className="flex gap-2">
                   {['es', 'en'].map(l => (
                     <button key={l} onClick={() => updatePref('lang', l)} className={`px-4 py-2 rounded-lg border text-sm font-bold ${lang === l ? 'bg-black text-white' : 'bg-gray-100 text-gray-500'}`}>
                       {l.toUpperCase()}
                     </button>
                   ))}
                 </div>
               </div>

               <div>
                 <label className="block text-sm font-bold text-gray-500 mb-2 uppercase">Tema / Theme</label>
                 <div className="grid grid-cols-3 gap-2">
                   {Object.entries(THEMES).map(([k, v]) => (
                     <button 
                       key={k} 
                       onClick={() => updatePref('theme', k)}
                       className={`p-2 rounded-lg border text-xs font-medium transition-all ${themeKey === k ? 'ring-2 ring-black border-transparent' : 'border-gray-200'}`}
                       style={{ background: k === 'dark' || k === 'neon' || k === 'ocean' ? '#111' : '#f3f4f6', color: k === 'dark' || k === 'neon' || k === 'ocean' ? '#fff' : '#000' }}
                     >
                       {v.label[lang]}
                     </button>
                   ))}
                 </div>
               </div>

               <div className="pt-4 border-t">
                 <button onClick={() => { setSession(null); saveJSON(KEYS.session, null); }} className="w-full p-3 text-red-500 font-bold bg-red-50 rounded-xl">
                   {t("logout")}
                 </button>
               </div>
             </div>
          </Modal>

          {/* MODAL MOOD */}
          <Modal open={showMood} onClose={() => setShowMood(false)}>
            <h2 className="text-xl font-bold mb-1 text-gray-900 text-center">{t("moodTitle")}</h2>
            <p className="text-center text-gray-500 text-sm mb-6">Registra tu estado para ver patrones.</p>
            <div className="grid grid-cols-2 gap-3">
              {MOODS.map(m => (
                <button 
                  key={m.id} 
                  onClick={() => logMood(m.id)}
                  className="p-3 rounded-xl border border-gray-100 bg-gray-50 hover:bg-gray-100 flex items-center justify-center gap-2 transition-transform active:scale-95"
                >
                  <span className="w-3 h-3 rounded-full" style={{background:m.color}}></span>
                  <span className="text-gray-700 font-medium">{m.label[lang]}</span>
                </button>
              ))}
            </div>
          </Modal>

        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<App />);
  </script>
</body>
</html>
